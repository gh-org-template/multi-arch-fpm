sources:
  rubyLatestVersion:
    name: Get latest Ruby Docker tag
    kind: dockerimage
    spec:
      image: "ruby"
      tagfilter: "^([0-9]+\\.[0-9]+\\.[0-9]+)$"
      versionfilter:
        kind: semver
targets:
  updateBaseDockerVersion:
    name: "Update base image"
    sourceid: rubyLatestVersion
    kind: dockerfile
    spec:
      files:
        - Dockerfile
      instruction:
        keyword: "ARG"
        matcher: "VERSION"
